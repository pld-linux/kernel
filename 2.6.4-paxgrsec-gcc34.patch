diff -uNr linux-2.6.4/arch.orig/i386/mm/fault.c linux-2.6.4/arch/i386/mm/fault.c
--- linux-2.6.4/arch.orig/i386/mm/fault.c	2004-03-16 22:48:26.000000000 +0100
+++ linux-2.6.4/arch/i386/mm/fault.c	2004-03-16 23:59:47.000000000 +0100
@@ -390,9 +390,6 @@
 				case 2:
 					return;
 #endif
-
-				case 1:
-				default:
 				}
 			}
 #endif
diff -uNr linux-2.6.4/grsecurity.orig/gracl.c linux-2.6.4/grsecurity/gracl.c
--- linux-2.6.4/grsecurity.orig/gracl.c	2004-03-17 00:51:53.000000000 +0100
+++ linux-2.6.4/grsecurity/gracl.c	2004-03-17 00:53:05.969512504 +0100
@@ -57,9 +57,8 @@
 extern void gr_clear_learn_entries(void);
 
 #ifdef CONFIG_GRKERNSEC_RESLOG
-extern __inline__ void gr_log_resource(const struct task_struct *task,
-				       const int res,
-				       const unsigned long wanted, const int gt);
+extern void gr_log_resource(const struct task_struct *task,
+			    const int res, const unsigned long wanted, const int gt);
 #endif
 
 extern char * __d_path(struct dentry *dentry, struct vfsmount *vfsmnt,
diff -uNr linux-2.6.4/grsecurity.orig/gracl_segv.c linux-2.6.4/grsecurity/gracl_segv.c
--- linux-2.6.4/grsecurity.orig/gracl_segv.c	2004-03-17 00:51:53.000000000 +0100
+++ linux-2.6.4/grsecurity/gracl_segv.c	2004-03-17 00:53:17.867703704 +0100
@@ -27,7 +27,7 @@
 static unsigned short uid_used;
 static rwlock_t gr_uid_lock = RW_LOCK_UNLOCKED;
 extern rwlock_t gr_inode_lock;
-extern __inline__ struct acl_subject_label *
+extern struct acl_subject_label *
 	lookup_acl_subj_label(const ino_t inode, const dev_t dev,
 			      struct acl_role_label *role);
 extern int specific_send_sig_info(int sig, struct siginfo *info, struct task_struct *t);
diff -uNr linux-2.6.4/include/linux.orig/grinternal.h linux-2.6.4/include/linux/grinternal.h
--- linux-2.6.4/include/linux.orig/grinternal.h	2004-03-16 22:48:28.000000000 +0100
+++ linux-2.6.4/include/linux/grinternal.h	2004-03-17 00:10:32.000000000 +0100
@@ -14,7 +14,7 @@
 			     const struct dentry *parent,
 			     const struct vfsmount *mnt, const __u32 mode);
 extern int gr_check_protected_task(const struct task_struct *task);
-extern __inline__ __u32 to_gr_audit(const __u32 reqmode);
+extern __u32 to_gr_audit(const __u32 reqmode);
 extern int gr_set_acls(const int type);
 
 extern void gr_handle_alertkill(void);
