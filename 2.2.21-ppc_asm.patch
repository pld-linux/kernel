--- linux.orig/include/asm-ppc/types.h	Sun Mar 25 18:31:08 2001
+++ linux/include/asm-ppc/types.h	Sat Apr 27 21:04:25 2002
@@ -45,6 +45,8 @@
 
 #define BITS_PER_LONG 32
 
+typedef u32 dma_addr_t;
+
 #endif /* __KERNEL__ */
 
 #endif
--- linux.orig/drivers/ieee1394/linux22compat.h	Fri Apr 12 20:01:51 2002
+++ linux/drivers/ieee1394/linux22compat.h	Fri Jun  7 14:14:31 2002
@@ -49,9 +49,6 @@
 #include <linux/pci.h>
 #include <asm/io.h>
 
-/* seems to fix PPC build */
-typedef u32 dma_addr_t;
-
 #define PCI_DMA_BIDIRECTIONAL	0
 #define PCI_DMA_TODEVICE	1
 #define PCI_DMA_FROMDEVICE	2
