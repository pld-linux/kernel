--- linux-2.6.27/drivers/md/dm.c.orig	2009-07-11 23:27:16.000000000 +0200
+++ linux-2.6.27/drivers/md/dm.c	2009-07-11 23:31:44.581632901 +0200
@@ -265,10 +265,6 @@
 		goto out;
 	}
 
-	if (test_bit(DMF_FREEING, &md->flags) ||
-	    test_bit(DMF_DELETING, &md->flags))
-		return NULL;
-
 	dm_get(md);
 	atomic_inc(&md->open_count);
 
