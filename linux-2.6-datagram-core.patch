--- a/net/core/datagram.c	2005-10-28 02:02:08.000000000 +0200
+++ b/net/core/datagram.c	2005-11-02 12:28:54.000000000 +0100
@@ -213,6 +213,10 @@
 {
 	int i, err, fraglen, end = 0;
 	struct sk_buff *next = skb_shinfo(skb)->frag_list;
+
+	if (!len)
+		return 0;
+
 next_skb:
 	fraglen = skb_headlen(skb);
 	i = -1;
