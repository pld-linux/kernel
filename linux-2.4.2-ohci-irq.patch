--- Linux/drivers/usb/usb-uhci.c	Fri Apr  6 11:26:17 2001
+++ linux/drivers/usb/usb-uhci.c	Fri Apr  6 11:28:34 2001
@@ -2998,6 +2998,11 @@
 
 	if (pci_enable_device(dev) < 0)
 		return -ENODEV;
+		
+	if (!dev->irq) {
+		err("found UHCI device with no IRQ assigned. check BIOS settings!");
+		return -ENODEV;
+	}
 	
 	/* Search for the IO base address.. */
 	for (i = 0; i < 6; i++) {
