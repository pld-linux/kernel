diff -Nur linux.old/arch/sparc64/kernel/sparc64_ksyms.c linux/arch/sparc64/kernel/sparc64_ksyms.c
--- linux.old/arch/sparc64/kernel/sparc64_ksyms.c	Fri Dec 21 18:41:53 2001
+++ linux/arch/sparc64/kernel/sparc64_ksyms.c	Mon Jan 28 10:28:22 2002
@@ -305,12 +305,9 @@
 EXPORT_SYMBOL(sunos_sys_table);
 EXPORT_SYMBOL(sys_call_table32);
 EXPORT_SYMBOL(tl0_solaris);
-EXPORT_SYMBOL(sys_sigsuspend);
-EXPORT_SYMBOL(sys_getppid);
 EXPORT_SYMBOL(svr4_getcontext);
 EXPORT_SYMBOL(svr4_setcontext);
 EXPORT_SYMBOL(prom_cpu_nodes);
-EXPORT_SYMBOL(sys_ioctl);
 EXPORT_SYMBOL(sys32_ioctl);
 EXPORT_SYMBOL(sparc32_open);
 #endif
diff -Nur linux.old/kernel/syscall_ksyms.c linux/kernel/syscall_ksyms.c
--- linux.old/kernel/syscall_ksyms.c	Tue Jan 29 12:49:03 2002
+++ linux/kernel/syscall_ksyms.c	Tue Jan 29 12:41:18 2002
@@ -49,9 +49,11 @@
 EXPORT_SYMBOL(sys_statfs);
 EXPORT_SYMBOL(sys_fstatfs);
 EXPORT_SYMBOL(sys_ftruncate);
-EXPORT_SYMBOL(sys_ftruncate64);
 EXPORT_SYMBOL(sys_truncate);
+#if defined(__sparc__) && !defined(__arch64__) 
+EXPORT_SYMBOL(sys_ftruncate64);
 EXPORT_SYMBOL(sys_truncate64);
+#endif
 #if !defined(__alpha__) && !defined(__ia64__)
 EXPORT_SYMBOL(sys_utime);
 #endif
@@ -177,3 +179,4 @@
 EXPORT_SYMBOL(sys_shmat);
 EXPORT_SYMBOL(sys_shmdt);
 EXPORT_SYMBOL(sys_shmctl);
+
