Missing header for routes patch, caused vs2.3 route.h mixing
--- a/net/ipv4/netfilter/nf_nat_core.c~	2008-01-24 23:58:37.000000000 +0100
+++ a/net/ipv4/netfilter/nf_nat_core.c	2008-03-30 21:00:19.349593833 +0200
@@ -15,6 +15,7 @@
 #include <net/checksum.h>
 #include <net/icmp.h>
 #include <net/ip.h>
+#include <net/route.h>
 #include <net/tcp.h>  /* For tcp_prot in getorigdst */
 #include <linux/icmp.h>
 #include <linux/udp.h>
diff -upr linux-2.6.25/security/selinux/include/av_perm_to_string.h linux-2.6.25/security/selinux/include/av_perm_to_string.h
--- linux-2.6.25/security/selinux/include/av_perm_to_string.h	2008-04-17 02:49:44.000000000 +0000
+++ linux-2.6.25/security/selinux/include/av_perm_to_string.h	2008-05-21 08:48:33.061933886 +0000
@@ -135,6 +135,7 @@
    S_(SECCLASS_CAPABILITY, CAPABILITY__SETFCAP, "setfcap")
    S_(SECCLASS_CAPABILITY2, CAPABILITY2__MAC_OVERRIDE, "mac_override")
    S_(SECCLASS_CAPABILITY2, CAPABILITY2__MAC_ADMIN, "mac_admin")
+   S_(SECCLASS_CAPABILITY2, CAPABILITY2__CONTEXT, "context")
    S_(SECCLASS_NETLINK_ROUTE_SOCKET, NETLINK_ROUTE_SOCKET__NLMSG_READ, "nlmsg_read")
    S_(SECCLASS_NETLINK_ROUTE_SOCKET, NETLINK_ROUTE_SOCKET__NLMSG_WRITE, "nlmsg_write")
    S_(SECCLASS_NETLINK_FIREWALL_SOCKET, NETLINK_FIREWALL_SOCKET__NLMSG_READ, "nlmsg_read")
diff -upr linux-2.6.25/security/selinux/include/av_permissions.h linux-2.6.25/security/selinux/include/av_permissions.h
--- linux-2.6.25/security/selinux/include/av_permissions.h	2008-04-17 02:49:44.000000000 +0000
+++ linux-2.6.25/security/selinux/include/av_permissions.h	2008-05-21 08:49:07.059597304 +0000
@@ -536,6 +536,7 @@
 #define CAPABILITY__SETFCAP                       0x80000000UL
 #define CAPABILITY2__MAC_OVERRIDE                 0x00000001UL
 #define CAPABILITY2__MAC_ADMIN                    0x00000002UL
+#define CAPABILITY2__CONTEXT                      0x00000004UL
 #define NETLINK_ROUTE_SOCKET__IOCTL               0x00000001UL
 #define NETLINK_ROUTE_SOCKET__READ                0x00000002UL
 #define NETLINK_ROUTE_SOCKET__WRITE               0x00000004UL
--- linux-2.6.27/arch/powerpc/include/asm/unistd.h.org	2008-11-02 22:23:47.000000000 +0000
+++ linux-2.6.27/arch/powerpc/include/asm/unistd.h	2008-11-02 22:24:37.000000000 +0000
@@ -275,7 +275,7 @@
 #endif
 #define __NR_rtas		255
 #define __NR_sys_debug_setcontext 256
-/* Number 257 is reserved for vserver */
+#define __NR_vserver		257
 #define __NR_migrate_pages	258
 #define __NR_mbind		259
 #define __NR_get_mempolicy	260

--- kernel-2.6.27.61/arch/sparc/include/asm/unistd_32.h~	2012-03-17 03:25:00.216085341 +0000
+++ kernel-2.6.27.61/arch/sparc/include/asm/unistd_32.h	2012-03-17 03:24:41.806834000 +0000
@@ -282,7 +282,7 @@
 #define __NR_timer_getoverrun	264
 #define __NR_timer_delete	265
 #define __NR_timer_create	266
-/* #define __NR_vserver		267 Reserved for VSERVER */
+#define __NR_vserver		267
 #define __NR_io_setup		268
 #define __NR_io_destroy		269
 #define __NR_io_submit		270
--- kernel-2.6.27.61/arch/sparc/include/asm/unistd_64.h~	2008-10-09 22:13:53.000000000 +0000
+++ kernel-2.6.27.61/arch/sparc/include/asm/unistd_64.h	2012-03-17 03:25:47.203935709 +0000
@@ -284,7 +284,7 @@
 #define __NR_timer_getoverrun	264
 #define __NR_timer_delete	265
 #define __NR_timer_create	266
-/* #define __NR_vserver		267 Reserved for VSERVER */
+#define __NR_vserver		267
 #define __NR_io_setup		268
 #define __NR_io_destroy		269
 #define __NR_io_submit		270
--- a/arch/x86/mm/fault.c~	2009-08-31 10:19:58.617323817 +0200
+++ b/arch/x86/mm/fault.c	2009-08-31 10:28:30.176958217 +0200
@@ -892,7 +892,7 @@
 #endif
 	}
 
-	printk("VM: killing process %s\n", tsk->comm);
+	printk("VM: killing process %s(%d:#%u)\n", tsk->comm, task_pid_nr(tsk), tsk->xid);
 	if (error_code & PF_USER)
 		do_group_exit(SIGKILL);
 	goto no_context;
--- linux-2.6.27/arch/x86/kernel/traps_32.c~	2009-09-17 20:50:10.332533640 +0200
+++ linux-2.6.27/arch/x86/kernel/traps_32.c	2009-09-17 21:39:26.765988046 +0200
@@ -287,8 +287,8 @@
 		asm("movl %%ebp, %0" : "=r" (bp):);
 #endif
 
-	printk("Pid: %d, comm: %.20s %s %s %.*s\n",
-		current->pid, current->comm, print_tainted(),
+	printk("Pid: %d, comm: %.20s xid: #%u %s %s %.*s\n",
+		current->pid, current->comm, current->xid, print_tainted(),
 		init_utsname()->release,
 		(int)strcspn(init_utsname()->version, " "),
 		init_utsname()->version);
--- linux-2.6.27/arch/x86/kernel/traps_64.c~	2009-09-17 20:50:10.332533640 +0200
+++ linux-2.6.27/arch/x86/kernel/traps_64.c	2009-09-17 21:39:44.975569209 +0200
@@ -407,8 +407,8 @@
 		asm("movq %%rbp, %0" : "=r" (bp):);
 #endif
 
-	printk("Pid: %d, comm: %.20s %s %s %.*s\n",
-		current->pid, current->comm, print_tainted(),
+	printk("Pid: %d, comm: %.20s xid: #%u %s %s %.*s\n",
+		current->pid, current->comm, current->xid, print_tainted(),
 		init_utsname()->release,
 		(int)strcspn(init_utsname()->version, " "),
 		init_utsname()->version);
