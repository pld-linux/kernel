Missing header for routes patch, caused vs2.3 route.h mixing
--- a/net/ipv4/netfilter/nf_nat_core.c~	2008-01-24 23:58:37.000000000 +0100
+++ a/net/ipv4/netfilter/nf_nat_core.c	2008-03-30 21:00:19.349593833 +0200
@@ -15,6 +15,7 @@
 #include <net/checksum.h>
 #include <net/icmp.h>
 #include <net/ip.h>
+#include <net/route.h>
 #include <net/tcp.h>  /* For tcp_prot in getorigdst */
 #include <linux/icmp.h>
 #include <linux/udp.h>
--- linux-2.6.33/arch/x86/kernel/process.c~	2010-02-24 19:52:17.000000000 +0100
+++ linux-2.6.33/arch/x86/kernel/process.c	2010-02-25 23:44:56.487156216 +0100
@@ -110,8 +110,8 @@
 	board = dmi_get_system_info(DMI_BOARD_NAME);
 
 	printk(KERN_CONT "\n");
-	printk(KERN_DEFAULT "Pid: %d, comm: %.20s %s %s %.*s",
-		current->pid, current->comm, print_tainted(),
+	printk(KERN_DEFAULT "Pid: %d, xid: #%u, comm: %.20s %s %s %.*s",
+		current->pid, current->xid, current->comm, print_tainted(),
 		init_utsname()->release,
 		(int)strcspn(init_utsname()->version, " "),
 		init_utsname()->version);
--- linux-2.6.31/arch/x86/kernel/dumpstack.c~	2009-09-16 08:32:02.000000000 +0200
+++ linux-2.6.31/arch/x86/kernel/dumpstack.c	2009-09-17 21:58:13.778791960 +0200
@@ -180,8 +180,8 @@
 	unsigned long stack;
 
 	bp = stack_frame(current, NULL);
-	printk("Pid: %d, comm: %.20s %s %s %.*s\n",
-		current->pid, current->comm, print_tainted(),
+	printk("Pid: %d, comm: %.20s xid: #%u %s %s %.*s\n",
+		current->pid, current->comm, current->xid, print_tainted(),
 		init_utsname()->release,
 		(int)strcspn(init_utsname()->version, " "),
 		init_utsname()->version);

diff -NurpP --minimal linux-2.6.38.8-vs2.3.0.37-rc17.1/fs/namespace.c linux-2.6.38.8-vs2.3.0.37-rc17.2/fs/namespace.c
--- linux-2.6.38.8-vs2.3.0.37-rc17.1/fs/namespace.c	2011-03-28 15:00:13.000000000 +0200
+++ linux-2.6.38.8-vs2.3.0.37-rc17.2/fs/namespace.c	2011-11-07 16:30:41.000000000 +0100
@@ -1013,7 +1013,8 @@ static int show_vfsmnt(struct seq_file *
 
 	if (vx_flags(VXF_HIDE_MOUNT, 0))
 		return SEQ_SKIP;
-	if (!mnt_is_reachable(mnt) && !vx_check(0, VS_WATCH_P))
+	if (!vx_check(0, VS_ADMIN|VS_WATCH_P) &&
+		!mnt_is_reachable(mnt))
 		return SEQ_SKIP;
 
 	if (!vx_check(0, VS_ADMIN|VS_WATCH) &&
@@ -1056,7 +1057,8 @@ static int show_mountinfo(struct seq_fil
 
 	if (vx_flags(VXF_HIDE_MOUNT, 0))
 		return SEQ_SKIP;
-	if (!mnt_is_reachable(mnt) && !vx_check(0, VS_WATCH_P))
+	if (!vx_check(0, VS_ADMIN|VS_WATCH_P) &&
+		!mnt_is_reachable(mnt))
 		return SEQ_SKIP;
 
 	seq_printf(m, "%i %i %u:%u ", mnt->mnt_id, mnt->mnt_parent->mnt_id,
@@ -1119,7 +1121,8 @@ static int show_vfsstat(struct seq_file 
 
 	if (vx_flags(VXF_HIDE_MOUNT, 0))
 		return SEQ_SKIP;
-	if (!mnt_is_reachable(mnt) && !vx_check(0, VS_WATCH_P))
+	if (!vx_check(0, VS_ADMIN|VS_WATCH_P) &&
+		!mnt_is_reachable(mnt))
 		return SEQ_SKIP;
 
 	if (!vx_check(0, VS_ADMIN|VS_WATCH) &&
