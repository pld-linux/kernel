dm-crypt: use unbound workqueue for request processing

Use unbound workqueue so that work is automatically ballanced between
available CPUs.

Signed-off-by: Mikulas Patocka <mpatocka@redhat.com>

---
 drivers/md/dm-crypt.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-3.14-rc8/drivers/md/dm-crypt.c
===================================================================
--- linux-3.14-rc8.orig/drivers/md/dm-crypt.c	2014-03-25 22:57:00.000000000 +0100
+++ linux-3.14-rc8/drivers/md/dm-crypt.c	2014-03-28 17:09:14.000000000 +0100
@@ -1800,7 +1800,7 @@ static int crypt_ctr(struct dm_target *t
 	}
 
 	cc->crypt_queue = alloc_workqueue("kcryptd",
-					  WQ_CPU_INTENSIVE | WQ_MEM_RECLAIM, 1);
+					  WQ_CPU_INTENSIVE | WQ_MEM_RECLAIM | WQ_UNBOUND, num_online_cpus());
 	if (!cc->crypt_queue) {
 		ti->error = "Couldn't create kcryptd queue";
 		goto bad;
