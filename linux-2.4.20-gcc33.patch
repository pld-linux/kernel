--- linux-2.4.20-orig/drivers/ide/ide-cd.h	2002-12-10 17:46:28 +0900
+++ linux-2.4.20/drivers/ide/ide-cd.h	2003-05-16 00:59:53 +0900
@@ -437,7 +437,7 @@
 
 	byte     curlba[3];
 	byte     nslots;
-	__u8 short slot_tablelen;
+	__u8     slot_tablelen;
 };
 
 
--- linux-2.4.20-orig/net/core/rtnetlink.c	2002-12-09 16:38:46 +0900
+++ linux-2.4.20/net/core/rtnetlink.c	2003-05-16 01:31:20 +0900
@@ -394,7 +394,7 @@
  * Malformed skbs with wrong lengths of messages are discarded silently.
  */
 
-extern __inline__ int rtnetlink_rcv_skb(struct sk_buff *skb)
+__inline__ int rtnetlink_rcv_skb(struct sk_buff *skb)
 {
 	int err;
 	struct nlmsghdr * nlh;
--- linux-2.4.20/drivers/atm/ambassador.c.orig	Thu Sep 13 22:21:32 2001
+++ linux-2.4.20/drivers/atm/ambassador.c	Wed Jun 11 08:42:37 2003
@@ -290,12 +290,12 @@
 /********** microcode **********/
 
 #ifdef AMB_NEW_MICROCODE
-#define UCODE(x) UCODE1(atmsar12.,x)
+#define UCODE(x) UCODE1(atmsar12,x)
 #else
-#define UCODE(x) UCODE1(atmsar11.,x)
+#define UCODE(x) UCODE1(atmsar11,x)
 #endif
 #define UCODE2(x) #x
-#define UCODE1(x,y) UCODE2(x ## y)
+#define UCODE1(x,y) UCODE2(x.y)
 
 static u32 __initdata ucode_start = 
 #include UCODE(start)
--- linux-2.4.20/include/linux/mtd/nftl.h.org	Fri Jun  6 15:46:54 2003
+++ linux-2.4.20/include/linux/mtd/nftl.h	Wed Jun 11 13:49:12 2003
@@ -97,7 +97,7 @@
 	__u16 lastEUN;                  /* should be suppressed */
 	__u16 numfreeEUNs;
 	__u16 LastFreeEUN; 		/* To speed up finding a free EUN */
-	__u32 long nr_sects;
+	__u32 nr_sects;
 	int head,sect,cyl;
 	__u16 *EUNtable; 		/* [numvunits]: First EUN for each virtual unit  */
 	__u16 *ReplUnitTable; 		/* [numEUNs]: ReplUnitNumber for each */
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/drivers/net/fealnx.c linux-2.4.20/drivers/net/fealnx.c
--- linux-2.4.20.old/drivers/net/fealnx.c	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/drivers/net/fealnx.c	Mon Jun 16 13:16:09 2003
@@ -1198,7 +1198,7 @@
 		printk("\n");
 	}
 
-	   + dev->if_port = np->default_port;
+	dev->if_port = np->default_port;
 	/* Reinit. Gross */
 
 	/* Reset the chip's Tx and Rx processes. */
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/drivers/net/irda/ma600.c linux-2.4.20/drivers/net/irda/ma600.c
--- linux-2.4.20.old/drivers/net/irda/ma600.c	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/drivers/net/irda/ma600.c	Mon Jun 16 13:16:09 2003
@@ -47,9 +47,9 @@
 	#undef ASSERT(expr, func)
 	#define ASSERT(expr, func) \
 	if(!(expr)) { \
-	        printk( "Assertion failed! %s,%s,%s,line=%d\n",\
-        	#expr,__FILE__,__FUNCTION__,__LINE__); \
-	        ##func}
+	        printk( "Assertion failed! %s,%s,line=%d\n",\
+        	__FILE__,__FUNCTION__,__LINE__); \
+		}
 #endif
 
 /* convert hex value to ascii hex */
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/drivers/video/controlfb.c linux-2.4.20/drivers/video/controlfb.c
--- linux-2.4.20.old/drivers/video/controlfb.c	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/drivers/video/controlfb.c	Mon Jun 16 13:16:09 2003
@@ -132,7 +132,7 @@
 };
 
 /* control register access macro */
-#define CNTRL_REG(INFO,REG) (&(((INFO)->control_regs-> ## REG).r))
+#define CNTRL_REG(INFO,REG) (&(((INFO)->control_regs-> REG).r))
 
 
 /******************** Prototypes for exported functions ********************/
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/include/asm-ppc/unistd.h linux-2.4.20/include/asm-ppc/unistd.h
--- linux-2.4.20.old/include/asm-ppc/unistd.h	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/include/asm-ppc/unistd.h	Mon Jun 16 13:16:09 2003
@@ -250,7 +250,7 @@
 	       (type) __sc_ret
 
 #define __syscall_clobbers \
-	"r4", "r5", "r6", "r7", "r8", "r9", "r10", "r11", "r12"
+	"r6", "r7", "r8", "r9", "r10", "r11", "r12"
 
 #define _syscall0(type,name)						\
 type name(void)								\
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/drivers/scsi/aic7xxx/aic79xx_osm.c linux-2.4.20/drivers/scsi/aic7xxx/aic79xx_osm.c
--- linux-2.4.20.old/drivers/scsi/aic7xxx/aic79xx_osm.c	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/drivers/scsi/aic7xxx/aic79xx_osm.c	Mon Jun 16 13:26:12 2003
@@ -336,31 +336,31 @@
 MODULE_LICENSE("Dual BSD/GPL");
 #endif
 MODULE_PARM(aic79xx, "s");
-MODULE_PARM_DESC(aic79xx, "period delimited, options string.
-	verbose			Enable verbose/diagnostic logging
-	debug			Bitmask of debug values to enable
-	no_reset		Supress initial bus resets
-	extended		Enable extended geometry on all controllers
-	periodic_otag		Send an ordered tagged transaction periodically
-				to prevent tag starvation.  This may be
-				required by some older disk drives/RAID arrays. 
-	reverse_scan		Sort PCI devices highest Bus/Slot to lowest
-	tag_info:<tag_str>	Set per-target tag depth
-	rd_strm:<rd_strm_masks> Set per-target read streaming setting.
-	seltime:<int>		Selection Timeout(0/256ms,1/128ms,2/64ms,3/32ms)
-
-	Sample /etc/modules.conf line:
-		Enable verbose logging
-		Set tag depth on Controller 2/Target 2 to 10 tags
-		Shorten the selection timeout to 128ms from its default of 256
-
-	options aic79xx='\"verbose.tag_info:{{}.{}.{..10}}.seltime:1\"'
-
-	Sample /etc/modules.conf line:
-		Change Read Streaming for Controller's 2 and 3
-
-	options aic79xx='\"rd_strm:{..0xFFF0.0xC0F0}\"'
-");
+MODULE_PARM_DESC(aic79xx, "period delimited, options string."\
+"	verbose			Enable verbose/diagnostic logging"\
+"	debug			Bitmask of debug values to enable"\
+"	no_reset		Supress initial bus resets"\
+"	extended		Enable extended geometry on all controllers"\
+"	periodic_otag		Send an ordered tagged transaction periodically"\
+"				to prevent tag starvation.  This may be"\
+"				required by some older disk drives/RAID arrays. "\
+"	reverse_scan		Sort PCI devices highest Bus/Slot to lowest"\
+"	tag_info:<tag_str>	Set per-target tag depth"\
+"	rd_strm:<rd_strm_masks> Set per-target read streaming setting."\
+"	seltime:<int>		Selection Timeout(0/256ms,1/128ms,2/64ms,3/32ms)"\
+""\
+"	Sample /etc/modules.conf line:"\
+"		Enable verbose logging"\
+"		Set tag depth on Controller 2/Target 2 to 10 tags"\
+"		Shorten the selection timeout to 128ms from its default of 256"\
+""\
+"	options aic79xx='\"verbose.tag_info:{{}.{}.{..10}}.seltime:1\"'"\
+""\
+"	Sample /etc/modules.conf line:"\
+"		Change Read Streaming for Controller's 2 and 3"\
+""\
+"	options aic79xx='\"rd_strm:{..0xFFF0.0xC0F0}\"'"
+);
 #endif
 
 static void ahd_linux_handle_scsi_status(struct ahd_softc *,
diff -Nur --exclude='*.orig' --exclude='*.o' linux-2.4.20.old/drivers/scsi/aic7xxx/aic7xxx_osm.c linux-2.4.20/drivers/scsi/aic7xxx/aic7xxx_osm.c
--- linux-2.4.20.old/drivers/scsi/aic7xxx/aic7xxx_osm.c	Mon Jun 16 13:16:08 2003
+++ linux-2.4.20/drivers/scsi/aic7xxx/aic7xxx_osm.c	Mon Jun 16 13:16:09 2003
@@ -417,26 +417,26 @@
 MODULE_LICENSE("Dual BSD/GPL");
 #endif
 MODULE_PARM(aic7xxx, "s");
-MODULE_PARM_DESC(aic7xxx, "period delimited, options string.
-	verbose			Enable verbose/diagnostic logging
-	no_probe		Disable EISA/VLB controller probing
-	no_reset		Supress initial bus resets
-	extended		Enable extended geometry on all controllers
-	periodic_otag		Send an ordered tagged transaction periodically
-				to prevent tag starvation.  This may be
-				required by some older disk drives/RAID arrays. 
-	reverse_scan		Sort PCI devices highest Bus/Slot to lowest
-	tag_info:<tag_str>	Set per-target tag depth
-	seltime:<int>		Selection Timeout(0/256ms,1/128ms,2/64ms,3/32ms)
-
-	Sample /etc/modules.conf line:
-		Enable verbose logging
-		Disable EISA/VLB probing
-		Set tag depth on Controller 2/Target 2 to 10 tags
-		Shorten the selection timeout to 128ms from its default of 256
-
-	options aic7xxx='\"verbose.no_probe.tag_info:{{}.{}.{..10}}.seltime:1\"'
-");
+MODULE_PARM_DESC(aic7xxx, "period delimited, options string." \
+"	verbose			Enable verbose/diagnostic logging" \
+"	no_probe		Disable EISA/VLB controller probing" \
+"	no_reset		Supress initial bus resets" \
+"	extended		Enable extended geometry on all controllers" \
+"	periodic_otag		Send an ordered tagged transaction periodically" \
+"				to prevent tag starvation.  This may be" \
+"				required by some older disk drives/RAID arrays." \
+"	reverse_scan		Sort PCI devices highest Bus/Slot to lowest" \
+"	tag_info:<tag_str>	Set per-target tag depth" \
+"	seltime:<int>		Selection Timeout(0/256ms,1/128ms,2/64ms,3/32ms)" \
+" " \
+"	Sample /etc/modules.conf line:" \
+"		Enable verbose logging" \
+"		Disable EISA/VLB probing" \
+"		Set tag depth on Controller 2/Target 2 to 10 tags" \
+"		Shorten the selection timeout to 128ms from its default of 256" \
+" " \
+"	options aic7xxx='\"verbose.no_probe.tag_info:{{}.{}.{..10}}.seltime:1\"'"
+);
 #endif
 
 static void ahc_linux_handle_scsi_status(struct ahc_softc *,
