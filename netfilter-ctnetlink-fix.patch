--- ctnetlink.patch.org	Tue Jun 19 00:18:18 2001
+++ ctnetlink.patch	Wed Jan 16 12:11:19 2002
@@ -359,11 +359,11 @@
 diff -ruN linux-2.4.5-ac5/include/linux/netlink.h linux/include/linux/netlink.h
 --- linux-2.4.5-ac5/include/linux/netlink.h	Sun Nov 12 20:37:17 2000
 +++ linux/include/linux/netlink.h	Fri Jun  1 00:31:00 2001
-@@ -5,6 +5,7 @@
- #define NETLINK_SKIP		1	/* Reserved for ENskip  			*/
- #define NETLINK_USERSOCK	2	/* Reserved for user mode socket protocols 	*/
+@@ -7,6 +7,7 @@
  #define NETLINK_FIREWALL	3	/* Firewalling hook				*/
-+#define NETLINK_CONNTRACK       5       /* Netfilter connection tracking */
+ #define NETLINK_TCPDIAG		4	/* TCP socket monitoring			*/
+ #define NETLINK_NFLOG		5	/* netfilter/iptables ULOG */
++#define NETLINK_CONNTRACK	6	/* Netfilter connection tracking */
  #define NETLINK_ARPD		8
  #define NETLINK_ROUTE6		11	/* af_inet6 route comm channel */
  #define NETLINK_IP6_FW		13
@@ -1131,7 +1131,7 @@
 diff -ruN linux-2.4.5-ac5/net/ipv4/netfilter/ip_conntrack_standalone.c linux/net/ipv4/netfilter/ip_conntrack_standalone.c
 --- linux-2.4.5-ac5/net/ipv4/netfilter/ip_conntrack_standalone.c	Fri Apr 27 14:15:01 2001
 +++ linux/net/ipv4/netfilter/ip_conntrack_standalone.c	Fri Jun  1 00:31:00 2001
-@@ -320,14 +320,19 @@
+@@ -320,15 +320,20 @@
  EXPORT_SYMBOL(ip_conntrack_protocol_register);
  EXPORT_SYMBOL(invert_tuplepr);
  EXPORT_SYMBOL(ip_conntrack_alter_reply);
@@ -1145,6 +1145,7 @@
  EXPORT_SYMBOL(ip_ct_selective_cleanup);
  EXPORT_SYMBOL(ip_ct_refresh);
  EXPORT_SYMBOL(ip_conntrack_expect_related);
+ EXPORT_SYMBOL(ip_conntrack_find_get);
  EXPORT_SYMBOL(ip_conntrack_tuple_taken);
  EXPORT_SYMBOL(ip_ct_gather_frags);
  EXPORT_SYMBOL(ip_conntrack_htable_size);
@@ -1188,11 +1189,11 @@
 diff -ruN linux-2.4.5-ac5/net/netlink/netlink_dev.c linux/net/netlink/netlink_dev.c
 --- linux-2.4.5-ac5/net/netlink/netlink_dev.c	Fri Feb  9 11:29:44 2001
 +++ linux/net/netlink/netlink_dev.c	Fri Jun  1 00:31:00 2001
-@@ -200,6 +200,7 @@
- 	make_devfs_entries ("skip", 1);
- 	make_devfs_entries ("USERSOCK", 2);
+@@ -198,6 +198,7 @@
+ 	make_devfs_entries ("usersock", 2);
  	make_devfs_entries ("fwmonitor", 3);
+ 	make_devfs_entries ("tcpdiag", 4);
 +	make_devfs_entries ("conntrack", 5);
- 	make_devfs_entries ("ARPD", 8);
- 	make_devfs_entries ("ROUTE6", 11);
- 	make_devfs_entries ("IP6_FW", 13);
+ 	make_devfs_entries ("arpd", 8);
+ 	make_devfs_entries ("route6", 11);
+ 	make_devfs_entries ("ip6_fw", 13);
